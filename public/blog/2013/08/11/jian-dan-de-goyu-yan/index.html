
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>简单的Go语言 - Code Infinity</title>
  <meta name="author" content="orcame">

  
  <meta name="description" content="最近小小的看了下Golang，这里记录一下相当初级的语法规则。 Hello Go hello go1
2
3
4
5
package main
import fmt &quot;fmt&quot; // 导入fmt库，用于IO操作，这里import 相当于C中的#include
func main &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.orcame.com/blog/2013/08/11/jian-dan-de-goyu-yan/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Code Infinity" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/" title="code is the constructor of the whole world."><span>Code</span><div class="infinity"><em>INFINITY</em></div></a></h1>
  
    <h2>Orcame's program world</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.orcame.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">简单的Go语言</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-11T19:35:00+08:00" pubdate data-updated="true">Aug 11<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>最近小小的看了下Golang，这里记录一下相当初级的语法规则。</p>

<h2>Hello Go</h2>

<figure class='code'><figcaption><span>hello go</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kn">package</span> <span class="nx">main</span>
</span><span class='line'><span class="kn">import</span> <span class="nx">fmt</span> <span class="s">&quot;fmt&quot;</span>  <span class="c1">// 导入fmt库，用于IO操作，这里import 相当于C中的#include</span>
</span><span class='line'><span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Hello, golang&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>import 还可以写成下面的样式</p>

<figure class='code'><figcaption><span>import 补充</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kn">import</span><span class="p">(</span>
</span><span class='line'>  <span class="s">&quot;fmt&quot;</span>
</span><span class='line'>  <span class="s">&quot;math&quot;</span>
</span><span class='line'><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<!-- more -->


<h2>变量</h2>

<p>golang是<strong>静态语言</strong>，变量声明需要类型。
具体请看下面代码示例：</p>

<figure class='code'><figcaption><span>关于变量</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="c1">// 变量声明</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">i</span> <span class="kt">int</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">str</span> <span class="kt">string</span><span class="p">=</span><span class="s">&quot;hello golang&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 在一个语句中声明多个变量</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 可以根据变量值反推变量类型</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">value</span><span class="p">=</span><span class="mi">100</span><span class="c1">//这里的value是int类型</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 如果在**函数体内部**</span>
</span><span class='line'><span class="c1">// 可以这样声明变量</span>
</span><span class='line'><span class="kd">func</span> <span class="nx">demo</span><span class="p">(){</span>
</span><span class='line'>  <span class="nx">inner</span><span class="o">:=</span><span class="kc">true</span> <span class="c1">//这里相当于 var inner int=100</span>
</span><span class='line'>  <span class="o">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>常量</h2>

<p>常量部分官方的说法是：</p>

<blockquote><ul>
<li>Constants are declared like variables, but with the const keyword.</li>
<li>Constants can be character, string, boolean, or numeric values.</li>
<li>Constants cannot be declared using the := syntax.</li>
</ul>
</blockquote>

<p>意思就是：</p>

<blockquote><ul>
<li>常量的声明和变量类似，用<strong>const</strong>关键字</li>
<li>常量只能是内置类型，例如:char,string,boolean,int,floag&#8230;</li>
<li>常量不能用 := 的方式声明</li>
</ul>
</blockquote>

<figure class='code'><figcaption><span>声明一个常量</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kd">const</span> <span class="nx">con</span> <span class="kt">string</span> <span class="p">=</span> <span class="s">&quot;这个是常量&quot;</span>
</span><span class='line'><span class="c1">//对比</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">val</span> <span class="kt">string</span> <span class="p">=</span> <span class="s">&quot;这是一个变量&quot;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="kd">const</span> <span class="nx">err</span> <span class="o">:=</span> <span class="s">&quot;这是错误的常量声明方式.&quot;</span>
</span><span class='line'><span class="c1">//对比</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">right</span> <span class="o">:=</span> <span class="s">&quot;这是正确的变量声明方式.&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>golang 的内置类型包括以下几种</p>

<blockquote><ul>
<li>bool</li>
<li>string</li>
<li>int, int8, int16, int32, int64</li>
<li>uint, uint8, uint16, uint32, uint64, uintptr</li>
<li>byte // alias for uint8</li>
<li>rune // alias for int32</li>
<li>float32, float64</li>
<li>complex64, complex128</li>
</ul>
</blockquote>

<h2>数组与切片</h2>

<h3>数组</h3>

<figure class='code'><figcaption><span>数组的定义</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kd">var</span> <span class="nx">arr</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="kt">int</span> <span class="c1">//这样定义的数组初始值为[0,0,0,0,0,0,0,0,0,0]</span>
</span><span class='line'>
</span><span class='line'><span class="nx">arr</span><span class="o">:=</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span> <span class="c1">//这样的语句只能出现在function内部</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">arr2</span> <span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="kt">int</span> <span class="c1">//这是一个二维数组</span>
</span><span class='line'>
</span><span class='line'><span class="nb">len</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="c1">//用内置len方法获取数组长度</span>
</span></code></pre></td></tr></table></div></figure>


<h3>切片</h3>

<figure class='code'><figcaption><span>切片操作</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="nx">arr</span> <span class="o">:=</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span>
</span><span class='line'><span class="nx">slice</span> <span class="o">:=</span><span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="c1">//arr下标1～3的内容，不包括a[4]</span>
</span><span class='line'>
</span><span class='line'><span class="nx">slice</span> <span class="p">=</span><span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="c1">//arr[1] 到arr[4]，即1到结尾，包括结尾</span>
</span><span class='line'>
</span><span class='line'><span class="nx">slice</span> <span class="p">=</span><span class="nx">arr</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="c1">//arr[0] 到arr[3], 不包括arr[4]</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>注意：</strong>数组的赋值是copy式的，见如下代码：</p>

<figure class='code'><figcaption><span>数组和切片的操作</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kn">package</span> <span class="nx">main</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="p">(</span>
</span><span class='line'>  <span class="s">&quot;fmt&quot;</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">arr1</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">}</span><span class="c1">//这样的声明是一个数组(长度是数组类型的一部分)</span>
</span><span class='line'>  <span class="nx">slice1</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">}</span><span class="c1">//这样的声明是一个切片</span>
</span><span class='line'>  <span class="nx">arr2</span> <span class="o">:=</span><span class="nx">arr1</span> <span class="c1">//arr2是arr1的一个副本</span>
</span><span class='line'>  <span class="nx">slice2</span> <span class="o">:=</span><span class="nx">slice1</span> <span class="c1">//slice2是slice1的一个引用</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;arr1:&quot;</span><span class="p">,</span><span class="nx">arr1</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;arr2:&quot;</span><span class="p">,</span><span class="nx">arr2</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;slice1:&quot;</span><span class="p">,</span><span class="nx">slice1</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;slice2:&quot;</span><span class="p">,</span><span class="nx">slice2</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">arr2</span><span class="p">[</span><span class="mi">3</span><span class="p">]=</span><span class="mi">100</span>
</span><span class='line'>  <span class="nx">slice2</span><span class="p">[</span><span class="mi">3</span><span class="p">]=</span><span class="mi">300</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;---after change arr2[3]=100 &amp; slice2[3]=300---&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;arr1:&quot;</span><span class="p">,</span><span class="nx">arr1</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;arr2:&quot;</span><span class="p">,</span><span class="nx">arr2</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;slice1:&quot;</span><span class="p">,</span><span class="nx">slice1</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;slice2:&quot;</span><span class="p">,</span><span class="nx">slice2</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">slice4arr</span><span class="o">:=</span><span class="nx">arr1</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="c1">//slice4arr是对arr1[1,2,3]的一个引用</span>
</span><span class='line'>  <span class="nx">slice4arr</span><span class="p">[</span><span class="mi">2</span><span class="p">]=</span><span class="mi">400</span> <span class="c1">//slice4arr[2]指向的是arr1[3]</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;---after change slice4arr[2]=400---&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;arr1:&quot;</span><span class="p">,</span><span class="nx">arr1</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;arr2:&quot;</span><span class="p">,</span><span class="nx">arr2</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;slice1:&quot;</span><span class="p">,</span><span class="nx">slice1</span><span class="p">)</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;slice2:&quot;</span><span class="p">,</span><span class="nx">slice2</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>程序的输出是：</p>

<figure class='code'><figcaption><span>数组和切片操作结果</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="nx">arr1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">arr2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">slice1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">slice2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="o">---</span><span class="nx">after</span> <span class="nx">change</span> <span class="nx">arr2</span><span class="p">[</span><span class="mi">3</span><span class="p">]=</span><span class="mi">100</span> <span class="o">&amp;</span> <span class="nx">slice2</span><span class="p">[</span><span class="mi">3</span><span class="p">]=</span><span class="mi">300</span><span class="o">---</span>
</span><span class='line'><span class="nx">arr1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">arr2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">100</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">slice1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">300</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">slice2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">300</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="o">---</span><span class="nx">after</span> <span class="nx">change</span> <span class="nx">slice4arr</span><span class="p">[</span><span class="mi">2</span><span class="p">]=</span><span class="mi">400</span><span class="o">---</span>
</span><span class='line'><span class="nx">arr1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">400</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">arr2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">100</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">slice1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">300</span> <span class="mi">5</span><span class="p">]</span>
</span><span class='line'><span class="nx">slice2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">300</span> <span class="mi">5</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<h2>if语句</h2>

<p>golang中if语句是没有小括号()的，但必须包括花括号{},并且<strong>{符号不能放置在下一行</strong>（这个约定其实和golang中的分号;有关)</p>

<figure class='code'><figcaption><span>if 语句</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="c1">//这是正确的写法</span>
</span><span class='line'><span class="k">if</span> <span class="kc">true</span><span class="p">{</span>
</span><span class='line'>  <span class="c1">//do something...</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//这是错误的写法</span>
</span><span class='line'><span class="k">if</span> <span class="kc">true</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">//do something...</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//if -else if -else 语句</span>
</span><span class='line'><span class="k">if</span> <span class="nx">a</span><span class="p">&gt;</span><span class="mi">0</span><span class="p">{</span>
</span><span class='line'>  <span class="o">...</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="k">if</span> <span class="nx">a</span><span class="o">==</span><span class="mi">0</span><span class="p">{</span>
</span><span class='line'>  <span class="o">...</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="o">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>switch 语句</h2>

<p>switch 同if一样没有小括号，但必须有花括号。case不需要break，可以用逗号分割多个值.<strong>{符号不能放置在下一行</strong></p>

<figure class='code'><figcaption><span>switch 语句</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="k">switch</span> <span class="nx">value</span><span class="p">{</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
</span><span class='line'>      <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;eq one&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">:</span>
</span><span class='line'>      <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;lt five&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">default</span><span class="p">:</span>
</span><span class='line'>      <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="err">&quot;</span><span class="nx">lt</span> <span class="nx">one</span> <span class="nx">or</span> <span class="nx">gt</span> <span class="nx">four</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>for 循环</h2>

<p>golang中for循环有三种形式, 同if一样没有小括号，但必须有花括号。<strong>{符号不能放置在下一行</strong></p>

<figure class='code'><figcaption><span>for loop</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="c1">//init;condition;post 形式</span>
</span><span class='line'><span class="k">for</span> <span class="nx">idx</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span><span class="nx">idx</span><span class="p">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span><span class="nx">idx</span><span class="o">++</span><span class="p">{</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">idx</span><span class="p">])</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//only condition 形式</span>
</span><span class='line'>
</span><span class='line'><span class="nx">idx</span><span class="o">:=</span><span class="mi">0</span>
</span><span class='line'><span class="k">for</span> <span class="nx">idx</span><span class="p">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">idx</span><span class="p">])</span>
</span><span class='line'>  <span class="nx">idx</span><span class="o">++</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//forever</span>
</span><span class='line'>
</span><span class='line'><span class="k">for</span><span class="p">{</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Never die&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong><em>golang 中没有 while语句，for语句已经包含了while的功能</em></strong></p>

<h2>函数</h2>

<p>golang中函数的声明和C略有不同，返回值类型放在了后面</p>

<figure class='code'><figcaption><span>golang中的函数声明</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kd">func</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">a</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">a</span><span class="o">+</span><span class="nx">b</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//也可以写成下面这样：</span>
</span><span class='line'><span class="kd">func</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">a</span><span class="o">+</span><span class="nx">b</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//函数可以有不定个数的参数</span>
</span><span class='line'>
</span><span class='line'><span class="kd">func</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">values</span> <span class="o">...</span><span class="kt">int</span><span class="p">){</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">total</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">0</span>
</span><span class='line'>  <span class="k">for</span> <span class="nx">_</span><span class="p">,</span><span class="nx">v</span> <span class="o">:=</span><span class="k">range</span> <span class="nx">values</span><span class="p">{</span>
</span><span class='line'>              <span class="c1">//这里用了一个变量 _，golang中如果一个变量声明了但没有使用是不允许的，所以有了这个特殊的_</span>
</span><span class='line'>              <span class="c1">//对于_，golang在编译的时候不会做0使用的验证。如果需要访问下标，可以写作for idx,value :=range values....</span>
</span><span class='line'>      <span class="nx">total</span><span class="o">+=</span><span class="nx">v</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">total</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//函数还可以闭包，熟悉js的人对这个不会陌生</span>
</span><span class='line'>
</span><span class='line'><span class="kd">func</span> <span class="nx">next</span><span class="p">()</span> <span class="kd">func</span><span class="p">()</span> <span class="kt">int</span><span class="p">{</span>
</span><span class='line'>  <span class="nx">i</span><span class="o">:=</span><span class="mi">0</span>
</span><span class='line'>  <span class="k">return</span> <span class="kd">func</span><span class="p">()</span><span class="kt">int</span><span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nx">i</span><span class="o">++</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//调用：</span>
</span><span class='line'><span class="nx">nextInt</span> <span class="o">:=</span><span class="nx">next</span><span class="p">()</span>
</span><span class='line'><span class="k">for</span><span class="p">{</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">nextInt</span><span class="p">())</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>结构体</h2>

<p>还是看代码吧</p>

<figure class='code'><figcaption><span>结构体</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kd">type</span> <span class="nx">Panda</span> <span class="kd">struct</span><span class="p">{</span>
</span><span class='line'>  <span class="nx">name</span> <span class="kt">string</span>
</span><span class='line'>  <span class="nx">weight</span> <span class="kt">int</span>
</span><span class='line'>  <span class="nx">description</span> <span class="kt">string</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//结构体的初始化有一下几种方式</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">paul</span> <span class="nx">Panda</span><span class="p">=</span><span class="nx">Panda</span><span class="p">{</span><span class="s">&quot;Paul&quot;</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="s">&quot;神龙大侠&quot;</span><span class="p">}</span>
</span><span class='line'><span class="c1">//或者</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">paul</span> <span class="nx">Panda</span><span class="p">=</span><span class="nx">Panda</span><span class="p">{</span><span class="nx">name</span><span class="p">:</span><span class="s">&quot;Paul&quot;</span><span class="p">,</span><span class="nx">description</span><span class="p">:</span><span class="s">&quot;神龙大侠&quot;</span><span class="p">,</span><span class="nx">weight</span><span class="p">:</span><span class="mi">1000</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>结构体的方法是比较特殊的，同C#等不同，不能在结构体内部声明，需要如此这般</p>

<figure class='code'><figcaption><span>结构体方法</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">Panda</span><span class="p">)</span> <span class="nx">Box</span><span class="p">(){</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;打出一记肥猫拳&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">Panda</span><span class="p">)</span> <span class="nx">Kick</span><span class="p">(){</span>
</span><span class='line'>  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;佛山无影脚，阿达～～～～&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>注意:</strong> golang中没有访问限制关键之，public，private，protected等，约定首字母大写的方法即为public(可以被别的包访问)</p>

<h2>接口</h2>

<p>接口是这样定义的</p>

<figure class='code'><figcaption><span>interface定义</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kd">type</span> <span class="nx">swordsman</span><span class="p">{</span> <span class="c1">//大侠会打拳和踢人</span>
</span><span class='line'>  <span class="nx">Box</span><span class="p">()</span>
</span><span class='line'>  <span class="nx">Kick</span><span class="p">()</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>注意</strong> golang中的接口是不需要显示继承的，golang认为有A的功能就是一个A，这里就是<strong>会打拳和踢人的就是大侠</strong>，那么Panda已经实现了swordsman接口，paul是一个大侠了</p>

<figure class='code'><figcaption><span>看看作为大侠的paul</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='go'><span class='line'><span class="kd">var</span> <span class="nx">paul</span> <span class="nx">Panda</span><span class="p">=</span><span class="nx">Panda</span><span class="p">{</span><span class="s">&quot;Paul&quot;</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="s">&quot;神龙大侠&quot;</span><span class="p">}</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">sw</span> <span class="nx">swardsman</span><span class="p">=</span><span class="o">&amp;</span><span class="nx">paul</span>
</span><span class='line'><span class="nx">sw</span><span class="p">.</span><span class="nx">Box</span><span class="p">()</span>
</span><span class='line'><span class="nx">sw</span><span class="p">.</span><span class="nx">Kick</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<h2>关于分号;</h2>

<p>golang 的唯一需要分号的地方是作为for循环中的init;condition;post分割符;在编译代码过程中，词法分析器会自动的为代码添加上分号，所以写代码的时候不需要写分号。词法分析器添加分号的规则是：</p>

<blockquote><p>行尾最后一个token（这当然不包括注释）是一个标识符，数值、字符串等字面值，或者++,&#8211;,break, fallthrough,continue, return中的一个</p></blockquote>

<p>按照以上规则，<strong>千万不要尝试在将for，switch，if等代码体的{写到下一行，因为这样会导致在{之前加入一个分号(;),引起错误。</strong></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">orcame</span></span>

      








  


<time datetime="2013-08-11T19:35:00+08:00" pubdate data-updated="true">Aug 11<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.orcame.com/blog/2013/08/11/jian-dan-de-goyu-yan/" data-via="" data-counturl="http://www.orcame.com/blog/2013/08/11/jian-dan-de-goyu-yan/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/04/21/for-yaan/" title="Previous Post: 愿生者平安，逝者安息">&laquo; 愿生者平安，逝者安息</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/11/jian-dan-de-goyu-yan/">简单的Go语言</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/21/for-yaan/">愿生者平安，逝者安息</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/04/code-hightlight/">测试代码高亮</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/02/hello-git-world/">GitHub + Octopress 搭建个人Blog</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>About Me</h1>
  <p>code is the constructor of the whole world.</p>
</section>

<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/others/'>Others (3)</a></li>

  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/orcame">@orcame</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'orcame',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - orcame -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'orcame';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.orcame.com/blog/2013/08/11/jian-dan-de-goyu-yan/';
        var disqus_url = 'http://www.orcame.com/blog/2013/08/11/jian-dan-de-goyu-yan/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
